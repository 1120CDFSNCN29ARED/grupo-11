<%- include('head') %>
<body>
    <%- include('header') %>
    <main>
        <h1>Registre su usuario</h1>
        <form action="/usuario/crear" method="POST" id="formulario" enctype="multipart/form-data">

            <!-- Grupo Nombre -->
            <section class="box" id="grupo_nombre">
                <label for="nombre" class="titulo">Nombre</label>
                <div class="formulario__grupo-input">
                    <input type="text" class="input" name="nombre" id="nombre" placeholder="Ingrese su nombre"
                        value="<%= locals.oldData ? oldData.nombre : null %>">
                    <% if (locals.errors && errors.nombre) { %><i class="fas fa-times-circle"></i><% } %>
                    <% if (locals.errors && !errors.nombre) { %><i class="fas fa-check-circle"></i><% } %>
                </div>
                <% if (locals.errors && errors.nombre) { %>
                    <p class="criterio input-error"><%= errors.nombre.msg %></p>
                <% } else { %>
                    <p class="criterio">El nombre debe ser de 2 a 20 letras</p>
                <% } %>
            </section>

            <!-- Grupo Apellido -->
            <section class="box" id="grupo_apellido">
                <label for="apellido" class="titulo">Apellido</label>
                <div class="formulario__grupo-input">
                    <input type="text" class="input" name="apellido" id="apellido" placeholder="Ingrese su apellido"
                        value="<%= locals.oldData ? oldData.apellido : null %>">
                    <% if (locals.errors && errors.apellido) { %><i class="fas fa-times-circle"></i><% } %>
                    <% if (locals.errors && !errors.apellido) { %><i class="fas fa-check-circle"></i><% } %>
                </div>
                <% if (locals.errors && errors.apellido) { %>
                    <p class="criterio input-error"><%= errors.apellido.msg %></p>
                <% } else { %>
                    <p class="criterio">El apellido debe ser de 2 a 20 letras</p>
                <% } %>
            </section>

            <!-- Grupo Email -->
            <section class="box" id="grupo_email">
                <label for="email" class="titulo">Correo Electrónico</label>
                <div class="formulario__grupo-input">
                    <input type="text" class="input" name="email" id="email" placeholder="Ingrese su Correo Electrónico"
                        value="<%= locals.oldData ? oldData.email : null %>">
                    <% if (locals.errors && errors.email) { %><i class="fas fa-times-circle"></i><% } %>
                    <% if (locals.errors && !errors.email) { %><i class="fas fa-check-circle"></i><% } %>
                </div>
                <% if (locals.errors && errors.email) { %>
                    <p class="criterio input-error"><%= errors.email.msg %></p>
                <% } else { %>
                    <p class="criterio">Debe ser una dirección de mail válida</p>
                <% } %>
            </section>

            <!-- Grupo Imagen de perfil -->
            <section class="box" id="grupo_imagen">
                <label for="imagen" class="titulo">Imagen de perfil</label>
                <div class="formulario__grupo-input">
                    <input type="file" class="input" name="imagen" id="imagen">
                    <% if (locals.errors && errors.imagen) { %><i class="fas fa-times-circle"></i><% } %>
                    <% if (locals.errors && !errors.imagen) { %><i class="fas fa-check-circle"></i><% } %>
                </div>
                <% if (locals.errors && errors.imagen) { %>
                    <p class="criterio input-error"><%= errors.imagen.msg %></p>
                <% } else { %>
                    <p class="criterio">Debe ingresar una imagen</p>
                <% } %>
            </section>

            <!-- Grupo Contraseña -->
            <section class="box" id="grupo_contrasena">
                <label for="contrasena" class="titulo">Contraseña</label>
                <div class="formulario__grupo-input">
                    <input type="password" class="input" name="contrasena" id="contrasena"
                        value="<%= locals.oldData ? oldData.contrasena : null %>">
                    <% if (locals.errors && errors.contrasena) { %><i class="fas fa-times-circle"></i><% } %>
                    <% if (locals.errors && !errors.contrasena) { %><i class="fas fa-check-circle"></i><% } %>
                </div>
                <% if (locals.errors && errors.contrasena) { %>
                    <p class="criterio input-error"><%= errors.contrasena.msg %></p>
                <% } else { %>
                    <p class="criterio">La contraseña debe tener de 6 a 12 caracteres</p>
                <% } %>
            </section>

            <!-- Grupo Repetir Contraseña -->
            <section class="box" id="grupo_contrasena2">
                <label for="contrasena2" class="titulo">Repita su Contraseña</label>
                <div class="formulario__grupo-input">
                    <input type="password" class="input" name="contrasena2" id="contrasena2"
                        value="<%= locals.oldData ? oldData.contrasena2 : null %>">
                    <% if (locals.errors && errors.contrasena2) { %><i class="fas fa-times-circle"></i><% } %>
                    <% if (locals.errors && !errors.contrasena2) { %><i class="fas fa-check-circle"></i><% } %>
                </div>
                <% if (locals.errors && errors.contrasena2) { %>
                    <p class="criterio input-error"><%= errors.contrasena2.msg %></p>
                <% } else { %>
                    <p class="criterio">Ambas contraseñas deben coincidir</p>
                <% } %>
            </section>

            <!-- Submit -->
            <section id="boton-registro">
                <button class="button" type="submit">Envíe los datos</button>
                <div class="contenedor-redes">
                    <a href="https://www.facebook.com/">
                        <button class="redes-sociales">
                            <i class="fab fa-facebook-square"></i>
                        </button>
                    </a>
                    <a href="https://accounts.google.com/">
                        <button class="redes-sociales">
                            <i class="fab fa-google"></i>
                        </button>
                    </a>
                </div>    
            </section>
        </form>
    </main>
    <%- include('footer') %>
</body>

</html>